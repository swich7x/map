
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>íƒë°° ìœ„ì¹˜ ë“±ë¡</title>
  <style>
    #map {
      width: 100%;
      height: 400px;
      margin-top: 10px;
    }
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    input, button {
      padding: 8px;
      margin: 5px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      margin-bottom: 5px;
    }
  </style>
</head>
<body>

<h2>ì£¼ì†Œ + ì†¡ì¥ë²ˆí˜¸ ë“±ë¡</h2>

<input type="text" id="address" placeholder="ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”" size="50">
<input type="text" id="trackingNumber" placeholder="ì†¡ì¥ë²ˆí˜¸ ì…ë ¥">
<button id="addBtn">ì¶”ê°€</button>

<div id="map"></div>
<ul id="list"></ul>

<!-- ì¹´ì¹´ì˜¤ ì§€ë„ API -->
<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=95b203d7a3ee9d91db51514098523f67&libraries=services"></script>

<script>
  let map;
  const markers = [];

  function initMap() {
    const container = document.getElementById('map');
    const options = {
      center: new kakao.maps.LatLng(37.5665, 126.9780),
      level: 5
    };
    map = new kakao.maps.Map(container, options);
  }

  function addLocation() {
    const address = document.getElementById("address").value.trim();
    const trackingNumber = document.getElementById("trackingNumber").value.trim();

    if (!address || !trackingNumber) {
      alert("ì£¼ì†Œì™€ ì†¡ì¥ë²ˆí˜¸ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      return;
    }

    const geocoder = new kakao.maps.services.Geocoder();
    geocoder.addressSearch(address, function (result, status) {
      if (status === kakao.maps.services.Status.OK) {
        const coords = new kakao.maps.LatLng(result[0].y, result[0].x);

        const marker = new kakao.maps.Marker({
          map: map,
          position: coords
        });
        markers.push(marker);

        const infowindow = new kakao.maps.InfoWindow({
          content: `<div style="padding:5px;font-size:13px;">ì†¡ì¥ë²ˆí˜¸: ${trackingNumber}</div>`
        });
        infowindow.open(map, marker);

        const listItem = document.createElement("li");
        listItem.textContent = `ğŸ“ ${address} - ì†¡ì¥ë²ˆí˜¸: ${trackingNumber}`;
        document.getElementById("list").appendChild(listItem);

        map.setCenter(coords);
      } else {
        alert("ì£¼ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.");
      }
    });
  }

  window.onload = function () {
    initMap();
    document.getElementById("addBtn").addEventListener("click", addLocation);
  };
</script>

</body>
</html>
